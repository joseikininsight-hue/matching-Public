# 🎯 AI補助金マッチング - 簡単設定ガイド

## 📱 あなたのサイトに3分で設置！

---

## ⚡ 超簡単！3ステップ

### ステップ1️⃣: ファイルをアップロード

**ダウンロード**: `subsidy-diagnosis-functions.php`

**アップロード先**:
```
wp-content/themes/あなたのテーマ名/subsidy-diagnosis-functions.php
```

### ステップ2️⃣: functions.php に1行追加

WordPress管理画面 → 外観 → テーマファイルエディター → functions.php

**一番下に追加**:
```php
<?php
// AI補助金マッチング機能を読み込み
require_once get_template_directory() . '/subsidy-diagnosis-functions.php';
```

### ステップ3️⃣: 使う！

完了！すぐに使えます 🎉

---

## 💡 使い方（4つの方法）

### 方法1: ショートコード（最も簡単）✨

**投稿や固定ページに貼り付けるだけ**:

```
[subsidy_diagnosis]
```

#### カスタマイズ例:

```
<!-- 高さを変更 -->
[subsidy_diagnosis height="600px"]

<!-- 特徴カードなし -->
[subsidy_diagnosis show_features="no"]

<!-- ヘッダーなし -->
[subsidy_diagnosis show_header="no"]

<!-- 全てカスタム -->
[subsidy_diagnosis height="500px" show_features="no" show_header="no"]
```

#### どこで使える？
- ✅ 投稿
- ✅ 固定ページ
- ✅ カスタム投稿タイプ
- ✅ ウィジェット（テキストウィジェット）

---

### 方法2: ウィジェット（サイドバー・フッター）📌

1. WordPress管理画面 → 外観 → ウィジェット
2. 「💡 AI補助金マッチング」を探す
3. サイドバーやフッターにドラッグ
4. タイトルと高さを設定
5. 保存

**表示場所**:
- サイドバー
- フッター
- ヘッダー
- カスタムウィジェットエリア

---

### 方法3: フローティングボタン（全ページ表示）🎈

**全ページに表示される浮遊ボタン**

#### 有効化方法:

`subsidy-diagnosis-functions.php` を開いて、**136行目**あたりの:

```php
/*
function add_subsidy_diagnosis_floating_button() {
```

↓ コメントを外す（`/*` と `*/` を削除）

```php
function add_subsidy_diagnosis_floating_button() {
```

**AND**

**277行目**あたりの:

```php
*/
```

↓ 削除

これで、全ページ右下に「💡 AI補助金診断」ボタンが表示されます！

#### 特徴:
- 💡 常に表示される浮遊ボタン
- 🖱️ クリックでモーダル表示
- ⌨️ ESCキーで閉じる
- 📱 モバイル対応
- ⚡ パフォーマンス最適化済み

---

### 方法4: 自動挿入（記事末尾に自動表示）🤖

**特定のカテゴリー・タグの記事に自動挿入**

#### 有効化方法:

`subsidy-diagnosis-functions.php` を開いて、**285行目**あたりの:

```php
/*
function auto_insert_subsidy_diagnosis($content) {
```

↓ コメントを外す

```php
function auto_insert_subsidy_diagnosis($content) {
```

**AND**

**369行目**あたりの:

```php
*/
```

↓ 削除

#### カスタマイズ:

293-294行目を編集:

```php
$show_on_categories = array('補助金', '助成金', 'ビジネス'); // ここを変更
$show_on_tags = array('補助金', '助成金', '資金調達'); // ここを変更
```

**あなたのサイトのカテゴリー・タグに合わせて変更してください！**

---

## 🎨 デザインカスタマイズ

### 色を変更

#### ヘッダーのグラデーション:

ファイル内で `#667eea` と `#764ba2` を検索して、好きな色に変更:

```php
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

// 青系に変更
background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);

// 緑系に変更
background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);

// オレンジ系に変更
background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
```

### 高さを変更

デフォルトは **800px**

ショートコードで変更:
```
[subsidy_diagnosis height="1000px"]
```

または、ファイル内の `'height' => '800px'` を変更

---

## 📊 どの方法を選ぶ？

| 目的 | おすすめ方法 | 難易度 |
|------|-------------|--------|
| 1つのページに表示 | ショートコード | ⭐☆☆ |
| 複数ページで使う | ショートコード | ⭐☆☆ |
| サイドバーに表示 | ウィジェット | ⭐⭐☆ |
| 全ページで目立たせる | フローティングボタン | ⭐⭐☆ |
| 自動で表示したい | 自動挿入 | ⭐⭐⭐ |

---

## ✅ 動作確認

設定後、以下を確認:

1. ✅ ページにアプリが表示される
2. ✅ ローディングアニメーションが動く
3. ✅ 質問に答えられる
4. ✅ スマホでも正しく表示される
5. ✅ デザインが崩れていない

---

## 🐛 トラブルシューティング

### アプリが表示されない

1. **functions.php の確認**
   ```php
   require_once get_template_directory() . '/subsidy-diagnosis-functions.php';
   ```
   この行が追加されているか？

2. **ファイルの場所を確認**
   ```
   wp-content/themes/あなたのテーマ名/subsidy-diagnosis-functions.php
   ```
   正しい場所にあるか？

3. **ショートコードを確認**
   ```
   [subsidy_diagnosis]
   ```
   正しく入力されているか？

### デザインが崩れる

1. テーマのCSSと競合している可能性
2. ブラウザのキャッシュをクリア
3. max_width を調整:
   ```
   [subsidy_diagnosis max_width="900px"]
   ```

### iframe が表示されない

1. ブラウザのコンソールでエラー確認
2. HTTPS で接続しているか確認
3. セキュリティプラグインを一時無効化して確認

---

## 🎯 実例

### 例1: 専用ページを作る

1. 固定ページ → 新規追加
2. タイトル: 「補助金診断」
3. 本文に貼り付け:
```
[subsidy_diagnosis]
```
4. 公開

### 例2: サイドバーに小さく表示

1. 外観 → ウィジェット
2. 「💡 AI補助金マッチング」をサイドバーへ
3. 高さ: `400px` に設定
4. 保存

### 例3: ブログ記事の最後に表示

自動挿入機能を有効化（方法4）

---

## 📱 モバイル対応

すべての方法が自動的にモバイル対応！

- スマホでは1カラムレイアウト
- タブレットでは2カラム
- PCでは4カラム

追加設定不要です 🎉

---

## 🔧 さらに高度な設定

### PHP テンプレートで直接使用

```php
<?php
// header.php や footer.php などで
echo do_shortcode('[subsidy_diagnosis height="500px"]');
?>
```

### 特定のページIDでのみ表示

```php
<?php
if (is_page(array(123, 456))) {
    echo do_shortcode('[subsidy_diagnosis]');
}
?>
```

### ログインユーザーにのみ表示

```php
<?php
if (is_user_logged_in()) {
    echo do_shortcode('[subsidy_diagnosis]');
}
?>
```

---

## 📚 全ファイル一覧

| ファイル名 | 用途 |
|-----------|------|
| `subsidy-diagnosis-functions.php` | **メインファイル（必須）** |
| `page-subsidy-diagnosis.php` | ページテンプレート（オプション） |
| `DYNAMIC_EMBED_METHODS.md` | 詳細技術ドキュメント |
| `WORDPRESS_EMBED_GUIDE.md` | 埋め込みガイド |
| `QUICK_START.md` | クイックスタートガイド |

---

## 🎊 完了！

これであなたのWordPressサイトにAI補助金マッチングアプリが設置されました！

### 次のステップ:

1. ✅ ショートコードを使ってページに表示
2. ✅ デザインをカスタマイズ
3. ✅ モバイルで動作確認
4. ✅ ユーザーに共有

---

## 🆘 サポートが必要？

- 📖 `DYNAMIC_EMBED_METHODS.md` - 詳細ガイド
- 📖 `WORDPRESS_EMBED_GUIDE.md` - 埋め込みガイド
- 🌐 直接テスト: https://matching-public.pages.dev/

---

**簡単3ステップで完了！今すぐ始めましょう！** 🚀
